{"version":3,"sources":["config.ts","context/General/GeneralContext.ts","context/General/GeneralContextProvider.tsx","context/Authentication/AuthenticationContext.ts","utils/axios.ts","context/Authentication/AuthenticationContextProvider.tsx","components/Login/index.ts","components/Login/Login.tsx","components/MainMenu/MainMenu.tsx","components/MainMenu/index.ts","components/PageHeader/index.ts","components/PageHeader/PageHeader.tsx","components/AndroidBackButtonExit/AndroidBackButtonExit.tsx","components/AndroidBackButtonExit/index.ts","pages/Home/index.ts","pages/Home/Home.tsx","pages/Profile/index.ts","pages/Profile/Profile.tsx","pages/Settings/index.ts","pages/Settings/Settings.tsx","pages/WelcomeScreen/index.ts","pages/WelcomeScreen/WelcomeScreen.tsx","pages/About/index.ts","pages/About/About.tsx","pages/Layers/index.ts","pages/Layers/Layers.tsx","pages/Maps/index.ts","pages/Maps/Maps.tsx","pages/Documents/index.ts","pages/Documents/Documents.tsx","pages/MapDetails/index.ts","pages/MapDetails/MapDetails.tsx","App.tsx","index.tsx","../node_modules/@ionic/core/dist/esm-es5 lazy /^/.*/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object"],"names":["appConfig","defaultDarkMode","serverBaseURL","profileURL","authenticationURL","authenticationType","authenticationClientId","authenticationClientSecret","logoutURL","defaultSettings","darkMode","showWelcomeScreen","GeneralContext","React","createContext","settings","showLoginModal","initializeGeneralContext","setDarkMode","setShowWelcomeScreen","setShowLoginModal","Storage","Plugins","GeneralContextProvider","props","useState","setSettings","useEffect","set","key","value","JSON","stringify","useCallback","a","get","settingsData","storedSettings","parse","document","body","classList","toggle","updatedSettings","currentSettings","Provider","children","AuthenticationContext","currentUser","loginHandler","username","password","logoutHandler","initializeAuthenticationContext","defaultAxios","axios","create","baseURL","AuthenticationContextProvider","setCurrentUser","authenticationData","storedAuthentication","authenticationRequestBody","client_id","client_secret","grant_type","post","qs","headers","authenticationResponse","params","profileResponse","requestedProfile","data","objects","tempUser","firstName","first_name","lastName","last_name","id","avatar","avatar_100","dateJoined","Date","date_joined","accessToken","access_token","refreshToken","refresh_token","expires","console","log","logoutRequestBody","token","Login","notificationMessage","setNotificationMessage","showLoading","setShowLoading","useContext","usernameRef","useRef","passwordRef","loginWithUsernameAndPasswordHandler","enteredUsername","current","enteredPassword","toString","trim","length","isLoggedIn","isOpen","message","onDidDismiss","duration","color","slot","onClick","className","sizeXs","sizeMd","position","ref","type","offset","size","expand","icon","person","disabled","fill","closeCircle","corePages","title","url","iosIcon","homeOutline","mdIcon","homeSharp","layersOutline","layersSharp","mapOutline","mapSharp","documentTextOutline","documentTextSharp","settingsOutline","settingsSharp","informationCircleOutline","informationCircleSharp","MainMenu","location","useLocation","logout","contentId","href","src","alt","lines","detail","ios","logInOutline","md","logInSharp","map","appPage","index","autoHide","pathname","routerLink","routerDirection","logOutOutline","logOutSharp","packageJson","version","PageHeader","defaultHref","App","AndroidBackButtonExit","history","useHistory","open","setOpen","doubleBackPress","setDoubleBackPress","addEventListener","event","register","goBack","setTimeout","exitApp","Home","showLoadingSpinner","setShowLoadingSpinner","layersCount","setLayersCount","mapsCount","setMapsCount","documentsCount","setDocumentsCount","usersCount","setUsersCount","fetchCounts","Authorization","layersCountResponse","mapsCountResponse","documentsCountResponse","usersCountResponse","meta","total_count","refreshPage","complete","isPlatform","fullscreen","onIonRefresh","outline","personOutline","Profile","cloudUpload","camera","readonly","displayFormat","trash","Settings","collapse","button","moon","name","checked","onIonChange","WelcomeScreen","slidesRef","pager","replace","About","Layers","showSortPopover","setShowSortPopover","layers","setLayers","sortLayersBy","setSortLayersBy","fetchLayers","order_by","response","tempLayers","singleLayer","uuid","abstract","thumbnail","thumbnail_url","date","split","detail_url","viewCount","popular_count","ownerName","owner_name","filter","cssClass","e","layer","target","calendarOutline","eyeOutline","Maps","maps","setMaps","sortMapsBy","setSortMapsBy","fetchMaps","tempMaps","singleMap","Documents","documents","setDocuments","sortDocumentsBy","setSortDocumentsBy","fetchDocuments","tempDocuments","singleDocument","MapDetails","mapId","useParams","mapTitle","setMapTitle","then","width","height","fallback","path","component","exact","from","to","app","ReactDOM","render","getElementById","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","Error","code","ids","keys","Object","module","exports"],"mappings":"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","file":"static/js/main.ba39a428.chunk.js","sourcesContent":["/**\n * Various constants and configurations for the app\n */\nconst appConfig = {\n  defaultDarkMode: false,\n  serverBaseURL: \"https://summit2020.cartoview.net\",\n  profileURL: \"api/profiles/\",\n  authenticationURL: \"o/token/\",\n  authenticationType: \"password\",\n  authenticationClientId: \"2DkWeRYRYCwidWqtwlA9IvL0AJMoZB6S8iJFLfU2\",\n  authenticationClientSecret:\n    \"8OsZciU4N4lkqyBHKFiEJQJuhjTnqzFZeoWsIofIEUTvxQUFu9FDRv2NelHikiGr3M47RpInANd27L862gPtjUWYbX276dQ2qlXDvRIvoob6LvMKNVu4veYieqKMt8tO\",\n  logoutURL: \"o/revoke_token/\",\n};\n\nexport default appConfig;\n","import React from \"react\";\n\nimport appConfig from \"../../config\";\n\nexport interface Settings {\n  darkMode: boolean;\n  showWelcomeScreen: boolean;\n}\n\ninterface Context {\n  settings: Settings;\n  showLoginModal: boolean;\n  initializeGeneralContext: () => void;\n  setDarkMode: (darkMode: boolean) => void;\n  setShowWelcomeScreen: (showWelcomeScreen: boolean) => void;\n  setShowLoginModal: (showLoginModal: boolean) => void;\n}\n\nexport const defaultSettings: Settings = {\n  darkMode: appConfig.defaultDarkMode,\n  showWelcomeScreen: true,\n};\n\nconst GeneralContext = React.createContext<Context>({\n  settings: defaultSettings,\n  showLoginModal: false,\n  initializeGeneralContext: () => {},\n  setDarkMode: () => {},\n  setShowWelcomeScreen: () => {},\n  setShowLoginModal: () => {},\n});\n\nexport default GeneralContext;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { Plugins } from \"@capacitor/core\";\nimport GeneralContext, { defaultSettings, Settings } from \"./GeneralContext\";\n\nconst { Storage } = Plugins;\n\nconst GeneralContextProvider: React.FC = (props) => {\n  const [settings, setSettings] = useState<Settings>(defaultSettings);\n  const [showLoginModal, setShowLoginModal] = useState<boolean>(false);\n\n  // Save to disk whenever there is a change\n  useEffect(() => {\n    Storage.set({\n      key: \"settings\",\n      value: JSON.stringify(settings),\n    });\n  }, [settings]);\n\n  const initializeGeneralContext = useCallback(async () => {\n    const settingsData = await Storage.get({ key: \"settings\" });\n    const storedSettings = settingsData.value\n      ? JSON.parse(settingsData.value)\n      : defaultSettings;\n    setSettings(storedSettings);\n    setDarkMode(storedSettings.darkMode);\n    setShowWelcomeScreen(storedSettings.showWelcomeScreen);\n  }, []);\n\n  const setDarkMode = (darkMode: boolean = defaultSettings.darkMode) => {\n    document.body.classList.toggle(\"dark\", darkMode);\n    const updatedSettings = { darkMode };\n    setSettings((currentSettings) => {\n      return { ...currentSettings, ...updatedSettings };\n    });\n  };\n\n  const setShowWelcomeScreen = (showWelcomeScreen: boolean = true) => {\n    const updatedSettings = { showWelcomeScreen };\n    setSettings((currentSettings) => {\n      return { ...currentSettings, ...updatedSettings };\n    });\n  };\n\n  return (\n    <GeneralContext.Provider\n      value={{\n        settings,\n        showLoginModal,\n        initializeGeneralContext,\n        setDarkMode,\n        setShowWelcomeScreen,\n        setShowLoginModal,\n      }}\n    >\n      {props.children}\n    </GeneralContext.Provider>\n  );\n};\n\nexport default GeneralContextProvider;\n","import React from \"react\";\n\nexport interface SystemUser {\n  username: string | null;\n  firstName: string | null;\n  lastName: string | null;\n  id: string | null;\n  avatar: string | undefined;\n  dateJoined: Date | null;\n  accessToken: string | null;\n  refreshToken: string | null;\n  expires: Date | null;\n}\n\ninterface Context {\n  currentUser: SystemUser | null;\n  loginHandler: (username: string, password: string) => Promise<Boolean>;\n  logoutHandler: () => Promise<Boolean>;\n  initializeAuthenticationContext: () => void;\n}\n\nconst AuthenticationContext = React.createContext<Context>({\n  currentUser: null,\n  loginHandler: async (username, password) => false,\n  logoutHandler: async () => false,\n  initializeAuthenticationContext: () => {},\n});\n\nexport default AuthenticationContext;\n","import axios from \"axios\";\nimport appConfig from \"../config\";\n\n/**\n * Axios instance to be used for all website API calls\n */\nconst defaultAxios = axios.create({\n  baseURL: appConfig.serverBaseURL,\n});\n\nexport default defaultAxios;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport qs from \"querystring\";\nimport { Plugins } from \"@capacitor/core\";\n\nimport axios from \"../../utils/axios\";\nimport AuthenticationContext, { SystemUser } from \"./AuthenticationContext\";\nimport appConfig from \"../../config\";\n\nconst { Storage } = Plugins;\nconst AuthenticationContextProvider: React.FC = (props) => {\n  const [currentUser, setCurrentUser] = useState<SystemUser | null>(null);\n\n  // Save to disk whenever there is a change\n  useEffect(() => {\n    Storage.set({\n      key: \"authentication\",\n      value: JSON.stringify(currentUser),\n    });\n  }, [currentUser]);\n\n  // Called at application startup, loads the saved data\n  const initializeAuthenticationContext = useCallback(async () => {\n    const authenticationData = await Storage.get({ key: \"authentication\" });\n    const storedAuthentication = authenticationData.value\n      ? JSON.parse(authenticationData.value)\n      : null;\n    setCurrentUser(storedAuthentication);\n  }, []);\n\n  const loginHandler = async (username: string, password: string) => {\n    // Prepare authentication request\n    const authenticationRequestBody = {\n      client_id: appConfig.authenticationClientId,\n      client_secret: appConfig.authenticationClientSecret,\n      grant_type: appConfig.authenticationType,\n      username: username,\n      password: password,\n    };\n    try {\n      // Authenticate from GeoNode backend\n      const authenticationResponse = await axios.post(\n        appConfig.authenticationURL,\n        qs.stringify(authenticationRequestBody),\n        {headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" }}\n      );\n      // Load profile details from GeoNode profile API endpoint\n      const profileResponse = await axios.get(appConfig.profileURL, {\n        params: { username },\n      });\n      const requestedProfile = profileResponse.data.objects[0];\n      const tempUser: SystemUser = {\n        username,\n        firstName: requestedProfile.first_name,\n        lastName: requestedProfile.last_name,\n        id: requestedProfile.id,\n        avatar: requestedProfile.avatar_100,\n        dateJoined: new Date(requestedProfile.date_joined),\n        accessToken: authenticationResponse.data.access_token,\n        refreshToken: authenticationResponse.data.refresh_token,\n        expires: null,\n      };\n      // Set User data in the context\n      setCurrentUser(tempUser);\n      return true;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n\n  const logoutHandler = async () => {\n    const logoutRequestBody = {\n      client_id: appConfig.authenticationClientId,\n      client_secret: appConfig.authenticationClientSecret,\n      token: currentUser?.accessToken,\n    };\n    try {\n      await axios.post(\n        appConfig.logoutURL,\n        qs.stringify(logoutRequestBody),\n        {headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" }}\n      );\n      setCurrentUser(null);\n      return true;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n\n  return (\n    <AuthenticationContext.Provider\n      value={{\n        currentUser,\n        loginHandler,\n        logoutHandler,\n        initializeAuthenticationContext,\n      }}\n    >\n      {props.children}\n    </AuthenticationContext.Provider>\n  );\n};\n\nexport default AuthenticationContextProvider;\n","import Login from \"./Login\";\n\nexport default Login;\n","import React, { useRef, useState, useContext } from \"react\";\nimport {\n  IonContent,\n  IonTitle,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonItem,\n  IonLabel,\n  IonInput,\n  IonButton,\n  IonIcon,\n  IonLoading,\n  IonToast,\n  IonModal,\n  IonHeader,\n  IonToolbar,\n  IonButtons,\n} from \"@ionic/react\";\nimport { person, closeCircle } from \"ionicons/icons\";\n\nimport { AuthenticationContext, GeneralContext } from \"../../context\";\nimport \"./Login.css\";\n\n/**\n * The login modal\n */\nconst Login: React.FC = () => {\n  const [notificationMessage, setNotificationMessage] = useState<string>(\"\");\n  const [showLoading, setShowLoading] = useState<boolean>(false);\n  const { loginHandler } = useContext(AuthenticationContext);\n  const { showLoginModal, setShowLoginModal } = useContext(GeneralContext);\n\n  const usernameRef = useRef<HTMLIonInputElement>(null);\n  const passwordRef = useRef<HTMLIonInputElement>(null);\n\n  const loginWithUsernameAndPasswordHandler = async () => {\n    const enteredUsername = usernameRef.current!.value;\n    const enteredPassword = passwordRef.current!.value;\n\n    if (\n      !enteredUsername ||\n      !enteredPassword ||\n      enteredUsername.toString().trim().length === 0 ||\n      enteredPassword.toString().trim().length === 0\n    ) {\n      setNotificationMessage(\"Please enter valid data\");\n      return;\n    }\n    setNotificationMessage(\"\");\n    setShowLoading(true);\n    const isLoggedIn = await loginHandler(\n      enteredUsername.toString(),\n      enteredPassword.toString()\n    );\n    setShowLoading(false);\n    if (isLoggedIn) {\n      setShowLoginModal(false);\n    } else {\n      setNotificationMessage(\"Failed to login\");\n    }\n  };\n\n  return (\n    <IonModal isOpen={showLoginModal}>\n      <IonLoading isOpen={showLoading} message={\"Please wait...\"} />\n      <IonToast\n        isOpen={!!notificationMessage}\n        onDidDismiss={() => setNotificationMessage(\"\")}\n        message={notificationMessage}\n        duration={2000}\n      />\n      <IonHeader>\n        <IonToolbar color=\"primary\">\n          <IonTitle>Login</IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton onClick={() => setShowLoginModal(false)}>\n              Close\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonGrid className=\"ion-padding\">\n          <IonRow>\n            <IonCol\n              sizeXs=\"12\"\n              sizeMd=\"6\"\n              className=\"ion-padding-start ion-padding-end\"\n            >\n              <IonItem>\n                <IonLabel position=\"floating\">Username</IonLabel>\n                <IonInput ref={usernameRef} type=\"text\" />\n              </IonItem>\n            </IonCol>\n            <IonCol\n              sizeXs=\"12\"\n              sizeMd=\"6\"\n              className=\"ion-padding-start ion-padding-end\"\n            >\n              <IonItem>\n                <IonLabel position=\"floating\">Password</IonLabel>\n                <IonInput ref={passwordRef} type=\"password\" />\n              </IonItem>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-margin-top\">\n            <IonCol offset=\"3\" size=\"6\" className=\"ion-text-center\">\n              <IonButton\n                expand=\"block\"\n                onClick={loginWithUsernameAndPasswordHandler}\n              >\n                <IonIcon slot=\"start\" icon={person} />\n                Login\n              </IonButton>\n            </IonCol>\n          </IonRow>\n          <IonRow>\n            <IonCol sizeXs=\"12\" className=\"ion-text-center ion-margin-top\">\n              <IonLabel>If you don't have an account yet</IonLabel>\n            </IonCol>\n            <IonCol sizeXs=\"12\" className=\"ion-text-center\">\n              <IonButton disabled fill=\"clear\">\n                Register Now\n              </IonButton>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-margin-top\">\n            <IonCol offset=\"3\" size=\"6\" className=\"ion-text-center\">\n              <IonButton\n                fill=\"outline\"\n                onClick={() => setShowLoginModal(false)}\n              >\n                <IonIcon slot=\"start\" icon={closeCircle} />\n                Close\n              </IonButton>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonModal>\n  );\n};\n\nexport default Login;\n","import React, { useContext, useState } from \"react\";\nimport {\n  IonContent,\n  IonGrid,\n  IonIcon,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonMenu,\n  IonMenuToggle,\n  IonNote,\n  IonRow,\n  IonRouterLink,\n  IonLoading,\n} from \"@ionic/react\";\nimport { useLocation } from \"react-router-dom\";\nimport {\n  homeOutline,\n  homeSharp,\n  logInOutline,\n  logInSharp,\n  logOutOutline,\n  logOutSharp,\n  settingsOutline,\n  settingsSharp,\n  informationCircleOutline,\n  informationCircleSharp,\n  layersOutline,\n  layersSharp,\n  mapOutline,\n  mapSharp,\n  documentTextOutline,\n  documentTextSharp,\n} from \"ionicons/icons\";\nimport \"./MainMenu.css\";\nimport packageJson from \"../../../package.json\";\nimport { AuthenticationContext, GeneralContext } from \"../../context\";\n\ninterface AppPage {\n  url: string;\n  iosIcon: string;\n  mdIcon: string;\n  title: string;\n}\n\nconst corePages: AppPage[] = [\n  {\n    title: \"Home\",\n    url: \"/page/home\",\n    iosIcon: homeOutline,\n    mdIcon: homeSharp,\n  },\n  {\n    title: \"Layers\",\n    url: \"/page/layers\",\n    iosIcon: layersOutline,\n    mdIcon: layersSharp,\n  },\n  {\n    title: \"Maps\",\n    url: \"/page/maps\",\n    iosIcon: mapOutline,\n    mdIcon: mapSharp,\n  },\n  {\n    title: \"Documents\",\n    url: \"/page/documents\",\n    iosIcon: documentTextOutline,\n    mdIcon: documentTextSharp,\n  },\n  {\n    title: \"Settings\",\n    url: \"/page/settings\",\n    iosIcon: settingsOutline,\n    mdIcon: settingsSharp,\n  },\n  {\n    title: \"About\",\n    url: \"/page/about\",\n    iosIcon: informationCircleOutline,\n    mdIcon: informationCircleSharp,\n  },\n];\n\n/**\n * The main menu of the application\n */\nconst MainMenu: React.FC = () => {\n  const { currentUser, logoutHandler } = useContext(AuthenticationContext);\n  const { setShowLoginModal } = useContext(GeneralContext);\n  const [showLoading, setShowLoading] = useState<boolean>(false);\n  const location = useLocation();\n\n  const defaultAvatar = \"/assets/img/avatar.svg\";\n\n  const logout = async () => {\n    setShowLoading(true);\n    await logoutHandler();\n    setShowLoading(false);\n  };\n\n  return (\n    <IonMenu contentId=\"main-menu\" type=\"overlay\">\n      <IonContent>\n        <IonLoading isOpen={showLoading} message={\"Please wait...\"} />\n        <IonGrid className=\"cover-background\">\n          <IonRow className=\"ion-justify-content-center ion-margin-top\">\n            {currentUser ? (\n              <IonRouterLink href=\"/page/profile\">\n                <img\n                  src={currentUser.avatar}\n                  alt=\"profile\"\n                  className=\"user-thumbnail\"\n                />\n              </IonRouterLink>\n            ) : (\n              <img\n                src={defaultAvatar}\n                alt=\"profile\"\n                className=\"user-thumbnail\"\n              />\n            )}\n          </IonRow>\n          <IonRow className=\"ion-justify-content-center ion-margin-top\">\n            <h1 className=\"ion-no-margin color-white\">\n              {currentUser?.username}\n            </h1>\n          </IonRow>\n        </IonGrid>\n        <IonList id=\"inbox-list\">\n          {!currentUser && (\n            <IonItem\n              className=\"ion-margin-bottom\"\n              lines=\"none\"\n              detail={false}\n              onClick={() => setShowLoginModal(true)}\n            >\n              <IonIcon\n                className=\"ion-padding-start\"\n                slot=\"start\"\n                ios={logInOutline}\n                md={logInSharp}\n              />\n              <IonLabel>Login</IonLabel>\n            </IonItem>\n          )}\n          {corePages.map((appPage, index) => {\n            return (\n              <IonMenuToggle key={index} autoHide={false}>\n                <IonItem\n                  className={\n                    location.pathname === appPage.url ? \"selected\" : \"\"\n                  }\n                  routerLink={appPage.url}\n                  routerDirection=\"none\"\n                  lines=\"none\"\n                  detail={false}\n                >\n                  <IonIcon\n                    className=\"ion-padding-start\"\n                    slot=\"start\"\n                    ios={appPage.iosIcon}\n                    md={appPage.mdIcon}\n                  />\n                  <IonLabel>{appPage.title}</IonLabel>\n                </IonItem>\n              </IonMenuToggle>\n            );\n          })}\n          {currentUser && (\n            <IonItem\n              className=\"ion-margin-top\"\n              lines=\"none\"\n              detail={false}\n              onClick={logout}\n            >\n              <IonIcon\n                className=\"ion-padding-start\"\n                slot=\"start\"\n                ios={logOutOutline}\n                md={logOutSharp}\n              />\n              <IonLabel>Logout</IonLabel>\n            </IonItem>\n          )}\n        </IonList>\n      </IonContent>\n      <IonNote className=\"ion-margin-start\">\n        {\"version: \" + packageJson.version}\n      </IonNote>\n    </IonMenu>\n  );\n};\n\nexport default MainMenu;\n","import MainMenu from \"./MainMenu\";\n\nexport default MainMenu;\n","import PageHeader from \"./PageHeader\";\n\nexport default PageHeader;\n","import React from \"react\";\nimport {\n  IonButtons,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  IonBackButton,\n} from \"@ionic/react\";\n\n/**\n * The default page header in most of the pages\n */\nconst PageHeader: React.FC<{\n  title: string;\n}> = (props) => {\n  return (\n    <IonHeader>\n      <IonToolbar color=\"primary\">\n        <IonButtons slot=\"start\">\n          <IonBackButton defaultHref=\"/page/home\" />\n        </IonButtons>\n        <IonTitle>{props.title}</IonTitle>\n      </IonToolbar>\n    </IonHeader>\n  );\n};\n\nexport default PageHeader;\n","import React, { useEffect, useState } from \"react\";\nimport { IonToast } from \"@ionic/react\";\nimport { Plugins } from \"@capacitor/core\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nconst { App } = Plugins;\n\n/**\n * This component handles the Android Back button behaviour\n */\nconst BackButtonExit: React.FC = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const [open, setOpen] = useState(false);\n  const [doubleBackPress, setDoubleBackPress] = useState(false);\n\n  useEffect(() => {\n    document.addEventListener(\"ionBackButton\", (event: any) => {\n      event.detail.register(-1, () => {\n        history.goBack();\n        setTimeout(() => setDoubleBackPress(false), 1500);\n        if (doubleBackPress) {\n          App.exitApp();\n        } else {\n          setDoubleBackPress(true);\n          setOpen(true);\n        }\n      });\n    });\n  }, [location, history, doubleBackPress]);\n\n  return (\n    <IonToast\n      isOpen={open}\n      onDidDismiss={() => setOpen(false)}\n      message=\"Press again to Exit\"\n      duration={1500}\n    />\n  );\n};\n\nexport default BackButtonExit;\n","import AndroidBackButtonExit from \"./AndroidBackButtonExit\";\n\nexport default AndroidBackButtonExit;\n","import Home from \"./Home\";\n\nexport default Home;\n","import React, { useEffect, useContext, useState } from \"react\";\nimport {\n  IonPage,\n  IonContent,\n  IonCard,\n  isPlatform,\n  IonButtons,\n  IonHeader,\n  IonMenuButton,\n  IonTitle,\n  IonToolbar,\n  IonCardHeader,\n  IonCardContent,\n  IonIcon,\n  IonRefresher,\n  IonRefresherContent,\n  IonItem,\n  IonLabel,\n  IonChip,\n  IonBadge,\n  IonSpinner,\n} from \"@ionic/react\";\nimport {\n  layersOutline,\n  mapOutline,\n  documentTextOutline,\n  personOutline,\n} from \"ionicons/icons\";\n\nimport axios from \"../../utils/axios\";\nimport { AuthenticationContext, GeneralContext } from \"../../context\";\nimport { AndroidBackButtonExit } from \"../../components\";\nimport \"./Home.css\";\n\nconst Home: React.FC = () => {\n  const { currentUser } = useContext(AuthenticationContext);\n  const { setShowLoginModal } = useContext(GeneralContext);\n  const [showLoadingSpinner, setShowLoadingSpinner] = useState(false);\n  const [layersCount, setLayersCount] = useState(0);\n  const [mapsCount, setMapsCount] = useState(0);\n  const [documentsCount, setDocumentsCount] = useState(0);\n  const [usersCount, setUsersCount] = useState(0);\n\n  const fetchCounts = async (token = null) => {\n    setShowLoadingSpinner(true);\n    try {\n      const layersCountResponse = await axios.get(\"/api/layers\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const mapsCountResponse = await axios.get(\"/api/maps\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const documentsCountResponse = await axios.get(\"/api/documents\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const usersCountResponse = await axios.get(\"/api/profiles\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setLayersCount(layersCountResponse.data.meta.total_count);\n      setMapsCount(mapsCountResponse.data.meta.total_count);\n      setDocumentsCount(documentsCountResponse.data.meta.total_count);\n      setUsersCount(usersCountResponse.data.meta.total_count);\n    } finally {\n      setShowLoadingSpinner(false);\n    }\n  };\n\n  useEffect(() => {\n    currentUser ? fetchCounts(currentUser.accessToken) : fetchCounts();\n  }, [currentUser]);\n\n  const refreshPage = async (event) => {\n    currentUser\n      ? await fetchCounts(currentUser.accessToken)\n      : await fetchCounts();\n    event.detail.complete();\n  };\n\n  return (\n    <IonPage>\n      {isPlatform(\"android\") && <AndroidBackButtonExit />}\n      <IonHeader>\n        <IonToolbar color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle>GeoNode Mobile</IonTitle>\n          {showLoadingSpinner && (\n            <IonSpinner slot=\"end\" color=\"light\" className=\"ion-margin-end\" />\n          )}\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen>\n        <IonRefresher slot=\"fixed\" onIonRefresh={refreshPage}>\n          <IonRefresherContent></IonRefresherContent>\n        </IonRefresher>\n\n        <IonItem lines=\"none\">\n          <h1 slot=\"start\">\n            <IonChip\n              color=\"danger\"\n              outline\n              className=\"welcome-title ion-no-margin\"\n            >\n              Welcome\n            </IonChip>\n          </h1>\n\n          {!currentUser && (\n            <IonChip\n              slot=\"end\"\n              color=\"primary\"\n              onClick={() => setShowLoginModal(true)}\n              className=\"ion-no-margin\"\n            >\n              Login\n            </IonChip>\n          )}\n        </IonItem>\n        <IonItem lines=\"none\">\n          GeoNode is an open source platform for sharing geospatial data and\n          maps.\n        </IonItem>\n        <IonCard>\n          <IonCardHeader>\n            <IonItem\n              lines=\"none\"\n              className=\"ion-no-padding\"\n              href=\"/page/layers\"\n            >\n              <IonChip slot=\"start\" color=\"primary\">\n                <IonIcon icon={layersOutline} />\n                <IonLabel>Layers</IonLabel>\n              </IonChip>\n              <IonBadge slot=\"end\">{layersCount}</IonBadge>\n            </IonItem>\n          </IonCardHeader>\n          <IonCardContent>\n            Geospatial data published by other users, organizations and public\n            sources. Download data in standard formats.\n          </IonCardContent>\n        </IonCard>\n        <IonCard>\n          <IonCardHeader>\n            <IonItem lines=\"none\" className=\"ion-no-padding\" href=\"/page/maps\">\n              <IonChip slot=\"start\" color=\"primary\">\n                <IonIcon icon={mapOutline} />\n                <IonLabel>Maps</IonLabel>\n              </IonChip>\n              <IonBadge slot=\"end\">{mapsCount}</IonBadge>\n            </IonItem>\n          </IonCardHeader>\n          <IonCardContent>\n            Data is available for browsing, aggregating and styling to generate\n            maps which can be saved, downloaded, shared publicly or restricted\n            to specify users only.\n          </IonCardContent>\n        </IonCard>\n        <IonCard>\n          <IonCardHeader>\n            <IonItem\n              lines=\"none\"\n              className=\"ion-no-padding\"\n              href=\"/page/documents\"\n            >\n              <IonChip slot=\"start\" color=\"primary\">\n                <IonIcon icon={documentTextOutline} />\n                <IonLabel>Documents</IonLabel>\n              </IonChip>\n              <IonBadge slot=\"end\">{documentsCount}</IonBadge>\n            </IonItem>\n          </IonCardHeader>\n          <IonCardContent>\n            As for the layers and maps GeoNode allows to publish tabular and\n            text data, manage theirs metadata and associated documents.\n          </IonCardContent>\n        </IonCard>\n        <IonCard>\n          <IonCardHeader>\n            <IonItem lines=\"none\" className=\"ion-no-padding\">\n              <IonChip slot=\"start\" color=\"primary\">\n                <IonIcon icon={personOutline} />\n                <IonLabel>Users</IonLabel>\n              </IonChip>\n              <IonBadge slot=\"end\">{usersCount}</IonBadge>\n            </IonItem>\n          </IonCardHeader>\n          <IonCardContent>\n            Geonode allows registered users to easily upload geospatial data and\n            various documents in several formats.\n          </IonCardContent>\n        </IonCard>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Home;\n","import Profile from \"./Profile\";\n\nexport default Profile;\n","import React, { useContext } from \"react\";\nimport {\n  IonPage,\n  IonContent,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonItem,\n  IonLabel,\n  IonButton,\n  IonIcon,\n  IonInput,\n  IonDatetime,\n} from \"@ionic/react\";\nimport { camera, cloudUpload, trash } from \"ionicons/icons\";\n\nimport \"./Profile.css\";\nimport { PageHeader } from \"../../components\";\nimport { AuthenticationContext } from \"../../context\";\n\nconst Profile: React.FC = () => {\n  const { currentUser } = useContext(AuthenticationContext);\n\n  return (\n    <IonPage>\n      <PageHeader title=\"Profile\" />\n      <IonContent>\n        <IonGrid className=\"ion-margin-top\">\n          <IonRow>\n            <IonCol className=\"ion-text-center\">\n              <img\n                className=\"profile-picture\"\n                src={currentUser?.avatar}\n                alt=\"profile\"\n              />\n            </IonCol>\n          </IonRow>\n          <IonRow>\n            <IonCol className=\"ion-text-center\">\n              <IonButton fill=\"outline\">\n                <IonIcon icon={cloudUpload} slot=\"start\" />\n                Upload\n              </IonButton>\n              <IonButton fill=\"outline\">\n                <IonIcon icon={camera} slot=\"start\" />\n                Camera\n              </IonButton>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-margin-start ion-margin-end\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeMd=\"6\"\n              className=\"ion-padding-start ion-padding-end\"\n            >\n              <IonItem>\n                <IonLabel position=\"floating\">First Name</IonLabel>\n                <IonInput readonly type=\"text\" value={currentUser?.firstName} />\n              </IonItem>\n            </IonCol>\n            <IonCol\n              sizeXs=\"12\"\n              sizeMd=\"6\"\n              className=\"ion-padding-start ion-padding-end\"\n            >\n              <IonItem>\n                <IonLabel position=\"floating\">Last Name</IonLabel>\n                <IonInput readonly type=\"text\" value={currentUser?.lastName} />\n              </IonItem>\n            </IonCol>\n            <IonCol\n              sizeXs=\"12\"\n              sizeMd=\"6\"\n              className=\"ion-padding-start ion-padding-end\"\n            >\n              <IonItem>\n                <IonLabel position=\"floating\">Date Joined</IonLabel>\n                <IonDatetime\n                  readonly\n                  value={currentUser?.dateJoined?.toString()}\n                  displayFormat=\"DD-MMM-YYYY\"\n                />\n              </IonItem>\n            </IonCol>\n          </IonRow>\n          <IonRow>\n            <IonCol className=\"ion-text-center\">\n              <IonButton disabled>Save</IonButton>\n              <IonButton\n                color=\"danger\"\n                fill=\"outline\"\n                className=\"ion-margin-start\"\n                disabled\n              >\n                <IonIcon icon={trash} slot=\"start\" />\n                Discard\n              </IonButton>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Profile;\n","import Settings from \"./Settings\";\n\nexport default Settings;\n","import React, { useContext } from \"react\";\nimport {\n  IonPage,\n  IonContent,\n  IonList,\n  IonItem,\n  IonLabel,\n  IonToggle,\n  IonIcon,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  IonListHeader,\n  IonItemDivider,\n  isPlatform,\n} from \"@ionic/react\";\nimport { moon } from \"ionicons/icons\";\n\nimport \"./Settings.css\";\nimport { GeneralContext } from \"../../context\";\nimport { PageHeader, AndroidBackButtonExit } from \"../../components\";\n\nconst Settings: React.FC = () => {\n  const { settings, setDarkMode } = useContext(GeneralContext);\n\n  const darkModeHandler = (event: CustomEvent) => {\n    setDarkMode(event.detail.checked);\n  };\n\n  const toggleDarkModeHandler = () => {\n    setDarkMode(!settings.darkMode);\n  };\n\n  return (\n    <IonPage>\n      {isPlatform(\"android\") && <AndroidBackButtonExit />}\n      <PageHeader title=\"Settings\" />\n      <IonContent fullscreen>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">About</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonList>\n          <IonListHeader>\n            <IonLabel>General</IonLabel>\n          </IonListHeader>\n          <IonItem lines=\"none\" button onClick={toggleDarkModeHandler}>\n            <IonIcon\n              slot=\"start\"\n              icon={moon}\n              className=\"component-icon component-icon-dark\"\n            />\n            <IonLabel>Dark Mode</IonLabel>\n            <IonToggle\n              slot=\"end\"\n              name=\"darkMode\"\n              checked={settings.darkMode}\n              onIonChange={darkModeHandler}\n            />\n          </IonItem>\n          <IonItemDivider />\n        </IonList>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Settings;\n","import WelcomeScreen from \"./WelcomeScreen\";\n\nexport default WelcomeScreen;\n","import React, { useContext, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { IonButton, IonContent, IonSlide, IonSlides } from \"@ionic/react\";\n\nimport \"./WelcomeScreen.css\";\nimport { GeneralContext } from \"../../context\";\n\nconst Menu: React.FC = () => {\n  const { setShowWelcomeScreen } = useContext(GeneralContext);\n  const slidesRef = useRef<HTMLIonSlidesElement>(null);\n  const history = useHistory();\n\n  const handleFinish = () => {\n    setShowWelcomeScreen(false);\n    history.replace(\"/page/home\");\n  };\n\n  return (\n    <IonContent fullscreen>\n      <IonSlides\n        pager\n        className=\"ion-padding primary-color-background\"\n        ref={slidesRef}\n      >\n        <IonSlide className=\"ion-padding\">\n          <div className=\"slide\">\n            <img src=\"/assets/icon/icon.png\" alt=\"logo\" />\n            <h3 className=\"color-primary\">\n              GeoNode Mobile Client Brought to you by Cartologic\n            </h3>\n            <IonButton\n              expand=\"block\"\n              onClick={handleFinish}\n              className=\"ion-margin-top\"\n              color=\"danger\"\n            >\n              Get Started\n            </IonButton>\n          </div>\n        </IonSlide>\n      </IonSlides>\n    </IonContent>\n  );\n};\n\nexport default Menu;\n","import About from \"./About\";\n\nexport default About;\n","import React from \"react\";\nimport {\n  IonPage,\n  IonContent,\n  IonItem,\n  IonLabel,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  isPlatform,\n  IonCard,\n  IonCol,\n  IonGrid,\n  IonRow,\n  IonThumbnail,\n} from \"@ionic/react\";\n\nimport { PageHeader, AndroidBackButtonExit } from \"../../components\";\n\nconst About: React.FC = () => {\n  return (\n    <IonPage>\n      {isPlatform(\"android\") && <AndroidBackButtonExit />}\n      <PageHeader title=\"About\" />\n      <IonContent fullscreen>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">About</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonGrid>\n          <IonRow>\n            <IonCol>\n              <IonCard>\n                <IonItem lines=\"none\">\n                  <IonThumbnail slot=\"start\">\n                    <img src=\"/assets/icon/icon.png\" alt=\"logo\" />\n                  </IonThumbnail>\n                  <IonLabel>\n                    <h1>GeoNode Mobile Client</h1> by{\" \"}\n                    <a href=\"http://cartologic.com/\">Cartologic</a>\n                  </IonLabel>\n                </IonItem>\n              </IonCard>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default About;\n","import Layers from \"./Layers\";\n\nexport default Layers;\n","import React, { useEffect, useContext, useState, useCallback } from \"react\";\nimport {\n  IonPage,\n  IonContent,\n  isPlatform,\n  IonButtons,\n  IonHeader,\n  IonMenuButton,\n  IonTitle,\n  IonToolbar,\n  IonIcon,\n  IonRefresher,\n  IonRefresherContent,\n  IonSpinner,\n  IonButton,\n  IonListHeader,\n  IonList,\n  IonItem,\n  IonThumbnail,\n  IonLabel,\n  IonPopover,\n  IonRadio,\n  IonRadioGroup,\n  IonChip,\n} from \"@ionic/react\";\nimport {\n  calendarOutline,\n  filter,\n  eyeOutline,\n  personOutline,\n} from \"ionicons/icons\";\n\nimport axios from \"../../utils/axios\";\nimport { AuthenticationContext } from \"../../context\";\nimport { AndroidBackButtonExit } from \"../../components\";\nimport appConfig from \"../../config\";\nimport \"./Layers.css\";\n\nconst Layers: React.FC = () => {\n  const { currentUser } = useContext(AuthenticationContext);\n  const [showSortPopover, setShowSortPopover] = useState(false);\n  const [showLoadingSpinner, setShowLoadingSpinner] = useState(false);\n  const [layers, setLayers] = useState([]);\n  const [sortLayersBy, setSortLayersBy] = useState(\"-date\");\n\n  const fetchLayers = useCallback(\n    async (token = null) => {\n      setShowLoadingSpinner(true);\n      try {\n        const response = await axios.get(\"/api/layers\", {\n          params: {\n            order_by: sortLayersBy,\n          },\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        const tempLayers = response.data.objects.map((singleLayer) => {\n          return {\n            uuid: singleLayer.uuid,\n            title: singleLayer.title,\n            abstract: singleLayer.abstract,\n            thumbnail: singleLayer.thumbnail_url,\n            date: singleLayer.date.split(\"T\")[0],\n            url: singleLayer.detail_url,\n            viewCount: singleLayer.popular_count,\n            ownerName: singleLayer.owner_name,\n          };\n        });\n        setLayers(tempLayers);\n      } finally {\n        setShowLoadingSpinner(false);\n      }\n    },\n    [sortLayersBy]\n  );\n\n  useEffect(() => {\n    currentUser ? fetchLayers(currentUser.accessToken) : fetchLayers();\n  }, [currentUser, fetchLayers]);\n\n  const refreshPage = async (event) => {\n    currentUser\n      ? await fetchLayers(currentUser.accessToken)\n      : await fetchLayers();\n    event.detail.complete();\n  };\n\n  return (\n    <IonPage>\n      {isPlatform(\"android\") && <AndroidBackButtonExit />}\n      <IonHeader>\n        <IonToolbar color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle>Layers</IonTitle>\n          <IonButtons slot=\"secondary\">\n            {showLoadingSpinner && (\n              <IonSpinner slot=\"end\" color=\"light\" className=\"ion-margin-end\" />\n            )}\n            <IonButton onClick={() => setShowSortPopover(true)}>\n              <IonIcon slot=\"icon-only\" icon={filter} />\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen>\n        <IonPopover\n          isOpen={showSortPopover}\n          cssClass=\"my-custom-class\"\n          onDidDismiss={(e) => setShowSortPopover(false)}\n        >\n          <IonRadioGroup\n            value={sortLayersBy}\n            onIonChange={(e) => setSortLayersBy(e.detail.value)}\n          >\n            <IonListHeader>\n              <IonLabel>Sort by</IonLabel>\n            </IonListHeader>\n            <IonItem>\n              <IonLabel>Most recent</IonLabel>\n              <IonRadio slot=\"start\" value=\"-date\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>Less recent</IonLabel>\n              <IonRadio slot=\"start\" value=\"date\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>A - Z</IonLabel>\n              <IonRadio slot=\"start\" value=\"title\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>Z - A</IonLabel>\n              <IonRadio slot=\"start\" value=\"-title\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>Most popular</IonLabel>\n              <IonRadio slot=\"start\" value=\"-popular_count\" color=\"primary\" />\n            </IonItem>\n          </IonRadioGroup>\n        </IonPopover>\n        <IonRefresher slot=\"fixed\" onIonRefresh={refreshPage}>\n          <IonRefresherContent></IonRefresherContent>\n        </IonRefresher>\n        <IonList>\n          <IonListHeader>\n            <h1>{`${layers.length} Layers found`}</h1>\n          </IonListHeader>\n          {layers.map((layer) => (\n            <IonItem\n              key={layer.uuid}\n              href={appConfig.serverBaseURL + layer.url}\n              target=\"_blank\"\n            >\n              <IonThumbnail slot=\"start\" className=\"layer-image\">\n                <img src={layer.thumbnail} alt=\"layer\" />\n              </IonThumbnail>\n              <IonLabel>\n                <h2>{layer.title}</h2>\n                <p>{layer.abstract}</p>\n                <p>\n                  <IonChip color=\"primary\">\n                    <IonIcon icon={personOutline} />\n                    <IonLabel>{layer.ownerName}</IonLabel>\n                  </IonChip>\n                </p>\n                <IonChip color=\"primary\">\n                  <IonIcon icon={calendarOutline} />\n                  <IonLabel>{layer.date}</IonLabel>\n                </IonChip>\n                <IonChip color=\"danger\">\n                  <IonIcon icon={eyeOutline} />\n                  <IonLabel>{layer.viewCount}</IonLabel>\n                </IonChip>\n              </IonLabel>\n            </IonItem>\n          ))}\n        </IonList>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Layers;\n","import Maps from \"./Maps\";\n\nexport default Maps;\n","import React, { useEffect, useContext, useState, useCallback } from \"react\";\nimport {\n  IonPage,\n  IonContent,\n  isPlatform,\n  IonButtons,\n  IonHeader,\n  IonMenuButton,\n  IonTitle,\n  IonToolbar,\n  IonIcon,\n  IonRefresher,\n  IonRefresherContent,\n  IonSpinner,\n  IonButton,\n  IonListHeader,\n  IonList,\n  IonItem,\n  IonThumbnail,\n  IonLabel,\n  IonPopover,\n  IonRadio,\n  IonRadioGroup,\n  IonChip,\n} from \"@ionic/react\";\nimport {\n  calendarOutline,\n  filter,\n  eyeOutline,\n  personOutline,\n} from \"ionicons/icons\";\n\nimport axios from \"../../utils/axios\";\nimport { AuthenticationContext } from \"../../context\";\nimport { AndroidBackButtonExit } from \"../../components\";\nimport \"./Maps.css\";\n\nconst Maps: React.FC = () => {\n  const { currentUser } = useContext(AuthenticationContext);\n  const [showSortPopover, setShowSortPopover] = useState(false);\n  const [showLoadingSpinner, setShowLoadingSpinner] = useState(false);\n  const [maps, setMaps] = useState([]);\n  const [sortMapsBy, setSortMapsBy] = useState(\"-date\");\n\n  const fetchMaps = useCallback(\n    async (token = null) => {\n      setShowLoadingSpinner(true);\n      try {\n        const response = await axios.get(\"/api/maps\", {\n          params: {\n            order_by: sortMapsBy,\n          },\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        const tempMaps = response.data.objects.map((singleMap) => {\n          return {\n            id: singleMap.id,\n            uuid: singleMap.uuid,\n            title: singleMap.title,\n            abstract: singleMap.abstract,\n            thumbnail: singleMap.thumbnail_url,\n            date: singleMap.date.split(\"T\")[0],\n            url: singleMap.detail_url,\n            viewCount: singleMap.popular_count,\n            ownerName: singleMap.owner_name,\n          };\n        });\n        setMaps(tempMaps);\n      } finally {\n        setShowLoadingSpinner(false);\n      }\n    },\n    [sortMapsBy]\n  );\n\n  useEffect(() => {\n    currentUser ? fetchMaps(currentUser.accessToken) : fetchMaps();\n  }, [currentUser, fetchMaps]);\n\n  const refreshPage = async (event) => {\n    currentUser ? await fetchMaps(currentUser.accessToken) : await fetchMaps();\n    event.detail.complete();\n  };\n\n  return (\n    <IonPage>\n      {isPlatform(\"android\") && <AndroidBackButtonExit />}\n      <IonHeader>\n        <IonToolbar color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle>Maps</IonTitle>\n          <IonButtons slot=\"secondary\">\n            {showLoadingSpinner && (\n              <IonSpinner slot=\"end\" color=\"light\" className=\"ion-margin-end\" />\n            )}\n            <IonButton onClick={() => setShowSortPopover(true)}>\n              <IonIcon slot=\"icon-only\" icon={filter} />\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen>\n        <IonPopover\n          isOpen={showSortPopover}\n          cssClass=\"my-custom-class\"\n          onDidDismiss={(e) => setShowSortPopover(false)}\n        >\n          <IonRadioGroup\n            value={sortMapsBy}\n            onIonChange={(e) => setSortMapsBy(e.detail.value)}\n          >\n            <IonListHeader>\n              <IonLabel>Sort by</IonLabel>\n            </IonListHeader>\n            <IonItem>\n              <IonLabel>Most recent</IonLabel>\n              <IonRadio slot=\"start\" value=\"-date\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>Less recent</IonLabel>\n              <IonRadio slot=\"start\" value=\"date\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>A - Z</IonLabel>\n              <IonRadio slot=\"start\" value=\"title\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>Z - A</IonLabel>\n              <IonRadio slot=\"start\" value=\"-title\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>Most popular</IonLabel>\n              <IonRadio slot=\"start\" value=\"-popular_count\" color=\"primary\" />\n            </IonItem>\n          </IonRadioGroup>\n        </IonPopover>\n        <IonRefresher slot=\"fixed\" onIonRefresh={refreshPage}>\n          <IonRefresherContent></IonRefresherContent>\n        </IonRefresher>\n        <IonList>\n          <IonListHeader>\n            <h1>{`${maps.length} Maps found`}</h1>\n          </IonListHeader>\n          {maps.map((map) => (\n            <IonItem key={map.uuid} href={`/page/maps/${map.id}`}>\n              <IonThumbnail slot=\"start\" className=\"map-image\">\n                <img src={map.thumbnail} alt=\"map\" />\n              </IonThumbnail>\n              <IonLabel>\n                <h2>{map.title}</h2>\n                <p>{map.abstract}</p>\n                <p>\n                  <IonChip color=\"primary\">\n                    <IonIcon icon={personOutline} />\n                    <IonLabel>{map.ownerName}</IonLabel>\n                  </IonChip>\n                </p>\n                <IonChip color=\"primary\">\n                  <IonIcon icon={calendarOutline} />\n                  <IonLabel>{map.date}</IonLabel>\n                </IonChip>\n                <IonChip color=\"danger\">\n                  <IonIcon icon={eyeOutline} />\n                  <IonLabel>{map.viewCount}</IonLabel>\n                </IonChip>\n              </IonLabel>\n            </IonItem>\n          ))}\n        </IonList>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Maps;\n","import Documents from \"./Documents\";\n\nexport default Documents;\n","import React, { useEffect, useContext, useState, useCallback } from \"react\";\nimport {\n  IonPage,\n  IonContent,\n  isPlatform,\n  IonButtons,\n  IonHeader,\n  IonMenuButton,\n  IonTitle,\n  IonToolbar,\n  IonIcon,\n  IonRefresher,\n  IonRefresherContent,\n  IonSpinner,\n  IonButton,\n  IonListHeader,\n  IonList,\n  IonItem,\n  IonThumbnail,\n  IonLabel,\n  IonPopover,\n  IonRadio,\n  IonRadioGroup,\n  IonChip,\n} from \"@ionic/react\";\nimport {\n  calendarOutline,\n  filter,\n  eyeOutline,\n  personOutline,\n} from \"ionicons/icons\";\n\nimport axios from \"../../utils/axios\";\nimport { AuthenticationContext } from \"../../context\";\nimport { AndroidBackButtonExit } from \"../../components\";\nimport appConfig from \"../../config\";\nimport \"./Documents.css\";\n\nconst Documents: React.FC = () => {\n  const { currentUser } = useContext(AuthenticationContext);\n  const [showSortPopover, setShowSortPopover] = useState(false);\n  const [showLoadingSpinner, setShowLoadingSpinner] = useState(false);\n  const [documents, setDocuments] = useState([]);\n  const [sortDocumentsBy, setSortDocumentsBy] = useState(\"-date\");\n\n  const fetchDocuments = useCallback(\n    async (token = null) => {\n      setShowLoadingSpinner(true);\n      try {\n        const response = await axios.get(\"/api/documents\", {\n          params: {\n            order_by: sortDocumentsBy,\n          },\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        const tempDocuments = response.data.objects.map((singleDocument) => {\n          return {\n            uuid: singleDocument.uuid,\n            title: singleDocument.title,\n            abstract: singleDocument.abstract,\n            thumbnail: singleDocument.thumbnail_url,\n            date: singleDocument.date.split(\"T\")[0],\n            url: singleDocument.detail_url,\n            viewCount: singleDocument.popular_count,\n            ownerName: singleDocument.owner_name,\n          };\n        });\n        setDocuments(tempDocuments);\n      } finally {\n        setShowLoadingSpinner(false);\n      }\n    },\n    [sortDocumentsBy]\n  );\n\n  useEffect(() => {\n    currentUser ? fetchDocuments(currentUser.accessToken) : fetchDocuments();\n  }, [currentUser, fetchDocuments]);\n\n  const refreshPage = async (event) => {\n    currentUser\n      ? await fetchDocuments(currentUser.accessToken)\n      : await fetchDocuments();\n    event.detail.complete();\n  };\n\n  return (\n    <IonPage>\n      {isPlatform(\"android\") && <AndroidBackButtonExit />}\n      <IonHeader>\n        <IonToolbar color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle>Documents</IonTitle>\n          <IonButtons slot=\"secondary\">\n            {showLoadingSpinner && (\n              <IonSpinner slot=\"end\" color=\"light\" className=\"ion-margin-end\" />\n            )}\n            <IonButton onClick={() => setShowSortPopover(true)}>\n              <IonIcon slot=\"icon-only\" icon={filter} />\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen>\n        <IonPopover\n          isOpen={showSortPopover}\n          cssClass=\"my-custom-class\"\n          onDidDismiss={(e) => setShowSortPopover(false)}\n        >\n          <IonRadioGroup\n            value={sortDocumentsBy}\n            onIonChange={(e) => setSortDocumentsBy(e.detail.value)}\n          >\n            <IonListHeader>\n              <IonLabel>Sort by</IonLabel>\n            </IonListHeader>\n            <IonItem>\n              <IonLabel>Most recent</IonLabel>\n              <IonRadio slot=\"start\" value=\"-date\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>Less recent</IonLabel>\n              <IonRadio slot=\"start\" value=\"date\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>A - Z</IonLabel>\n              <IonRadio slot=\"start\" value=\"title\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>Z - A</IonLabel>\n              <IonRadio slot=\"start\" value=\"-title\" color=\"primary\" />\n            </IonItem>\n            <IonItem>\n              <IonLabel>Most popular</IonLabel>\n              <IonRadio slot=\"start\" value=\"-popular_count\" color=\"primary\" />\n            </IonItem>\n          </IonRadioGroup>\n        </IonPopover>\n        <IonRefresher slot=\"fixed\" onIonRefresh={refreshPage}>\n          <IonRefresherContent></IonRefresherContent>\n        </IonRefresher>\n        <IonList>\n          <IonListHeader>\n            <h1>{`${documents.length} Documents found`}</h1>\n          </IonListHeader>\n          {documents.map((document) => (\n            <IonItem\n              key={document.uuid}\n              href={appConfig.serverBaseURL + document.url}\n              target=\"_blank\"\n            >\n              <IonThumbnail slot=\"start\" className=\"document-image\">\n                <img src={document.thumbnail} alt=\"document\" />\n              </IonThumbnail>\n              <IonLabel>\n                <h2>{document.title}</h2>\n                <p>{document.abstract}</p>\n                <p>\n                  <IonChip color=\"primary\">\n                    <IonIcon icon={personOutline} />\n                    <IonLabel>{document.ownerName}</IonLabel>\n                  </IonChip>\n                </p>\n                <IonChip color=\"primary\">\n                  <IonIcon icon={calendarOutline} />\n                  <IonLabel>{document.date}</IonLabel>\n                </IonChip>\n                <IonChip color=\"danger\">\n                  <IonIcon icon={eyeOutline} />\n                  <IonLabel>{document.viewCount}</IonLabel>\n                </IonChip>\n              </IonLabel>\n            </IonItem>\n          ))}\n        </IonList>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Documents;\n","import MapDetails from \"./MapDetails\";\n\nexport default MapDetails;\n","import React, { useEffect, useState } from \"react\";\nimport { IonContent } from \"@ionic/react\";\nimport { useParams } from \"react-router-dom\";\n\nimport axios from \"../../utils/axios\";\nimport { PageHeader } from \"../../components\";\n\ninterface ParamTypes {\n  mapId: string;\n}\n\nconst MapDetails: React.FC = () => {\n  const { mapId } = useParams<ParamTypes>();\n  const [mapTitle, setMapTitle] = useState(\"\");\n\n  useEffect(() => {\n    axios\n      .get(\"/api/maps\", {\n        params: {\n          id: mapId,\n        },\n      })\n      .then((response) => {\n        setMapTitle(response.data.objects[0].title);\n      });\n  }, [mapId]);\n  return (\n    <IonContent fullscreen>\n      <PageHeader title={mapTitle} />\n      <iframe\n        title=\"Map View\"\n        width=\"100%\"\n        height=\"90%\"\n        src={`https://summit2020.cartoview.net/maps/${mapId}/embed`}\n      ></iframe>\n    </IonContent>\n  );\n};\n\nexport default MapDetails;\n","import React, { useContext, useEffect, Suspense } from \"react\";\nimport {\n  IonApp,\n  IonRouterOutlet,\n  IonSpinner,\n  IonSplitPane,\n} from \"@ionic/react\";\nimport { IonReactRouter } from \"@ionic/react-router\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nimport { GeneralContext, AuthenticationContext } from \"./context\";\nimport { MainMenu, Login } from \"./components\";\nimport {\n  WelcomeScreen,\n  Home,\n  Profile,\n  Settings,\n  About,\n  Layers,\n  Maps,\n  Documents,\n  MapDetails,\n} from \"./pages\";\n\nconst App: React.FC = () => {\n  const { initializeGeneralContext, settings } = useContext(GeneralContext);\n  const { initializeAuthenticationContext } = useContext(AuthenticationContext);\n\n  useEffect(() => {\n    initializeGeneralContext();\n    initializeAuthenticationContext();\n  }, [initializeAuthenticationContext, initializeGeneralContext]);\n\n  return (\n    <IonApp>\n      <Login />\n      <IonReactRouter>\n        <Suspense fallback={<IonSpinner />}>\n          <IonSplitPane contentId=\"main-menu\">\n            <MainMenu />\n            <IonRouterOutlet id=\"main-menu\">\n              <Route path=\"/page/home\" component={Home} exact />\n              <Route path=\"/page/settings\" component={Settings} exact />\n              <Route path=\"/page/profile\" component={Profile} exact />\n              <Route path=\"/page/about\" component={About} exact />\n              <Route path=\"/page/layers\" component={Layers} exact />\n              <Route path=\"/page/maps\" component={Maps} exact />\n              <Route path=\"/page/maps/:mapId\" component={MapDetails} exact />\n              <Route path=\"/page/documents\" component={Documents} exact />\n              <Route path=\"/page/welcome\" component={WelcomeScreen} exact />\n              <Redirect\n                from=\"/\"\n                to={settings.showWelcomeScreen ? \"/page/welcome\" : \"/page/home\"}\n                exact\n              />\n            </IonRouterOutlet>\n          </IonSplitPane>\n        </Suspense>\n      </IonReactRouter>\n    </IonApp>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nimport {\n  GeneralContextProvider,\n  AuthenticationContextProvider,\n} from \"./context\";\n\nconst app = (\n  <GeneralContextProvider>\n    <AuthenticationContextProvider>\n      <App />\n    </AuthenticationContextProvider>\n  </GeneralContextProvider>\n);\n\n/**\n * Entry point of the application\n */\nReactDOM.render(app, document.getElementById(\"root\"));\n","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t116,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t117,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t118,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t119,\n\t\t17\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t120,\n\t\t18\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t121,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t122,\n\t\t19\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t123,\n\t\t20\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t124,\n\t\t21\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t125,\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t126,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t127,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t128,\n\t\t23\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t129,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t130,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t131,\n\t\t24\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t132,\n\t\t25\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t133,\n\t\t26\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t134,\n\t\t27\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t135,\n\t\t28\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t136,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t137,\n\t\t14\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t138,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t139,\n\t\t29\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t140,\n\t\t30\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t141,\n\t\t31\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t142,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t143,\n\t\t16\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t144,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t145,\n\t\t32\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t146,\n\t\t33\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t147,\n\t\t34\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t148,\n\t\t35\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t149,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t150,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t151,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t152,\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t153,\n\t\t15\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t154,\n\t\t37\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t155,\n\t\t38\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t156,\n\t\t39\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t157,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t158,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 76;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t160,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 78;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}